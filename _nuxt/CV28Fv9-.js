import{_ as D,a as E,b as A}from"./YqfttoPX.js";import{_ as N}from"./ExIRLH1A.js";import{i as V,j,k as F,f as $,c as f,b as y,a as s,l as g,g as _,F as m,r as h,o as a,t as k,m as q,p as K,h as b}from"./CMjxq6oo.js";import{u as L,q as O}from"./BgL5VvE0.js";import"./33j83r8e.js";const P="$s";function R(...i){const d=typeof i[i.length-1]=="string"?i.pop():void 0;typeof i[0]!="string"&&i.unshift(d);const[l,o]=i;if(!l||typeof l!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+l);if(o!==void 0&&typeof o!="function")throw new Error("[nuxt] [useState] init must be a function: "+o);const u=P+l,v=V(),x=j(v.payload.state,u);if(x.value===void 0&&o){const p=o();if(F(p))return v.payload.state[u]=p,p;x.value=p}return x}const z={class:"container"},H={class:"flex items-center gap-2"},T=["onClick"],G={key:0,class:"flex justify-between items-center text-[#555555] mt-[20px] mb-[20px]"},I={class:"text-[12px] mr-[10px] uppercase"},X={__name:"posts",async setup(i){let d,l;const o=R("activeDate",()=>"all"),{data:u,pending:v}=([d,l]=$(()=>L("all-posts",()=>O("post").order("date","DESC").all())),d=await d,l(),d),x=b(()=>u.value?u.value.filter(e=>e.date).map(e=>e.date.slice(0,4)).filter((e,t,r)=>r.indexOf(e)===t).sort((e,t)=>t-e):[]),p=b(()=>{if(!u.value)return[];const e={};return u.value.forEach(t=>{if(!t.date)return;const r=t.date.slice(0,4);e[r]||(e[r]=[]),e[r].push(t)}),Object.keys(e).sort((t,r)=>r-t).map(t=>({year:t,blogs:e[t]}))}),w=b(()=>o.value==="all"?p.value:p.value.filter(e=>e.year===o.value));return(e,t)=>{const r=D,C=E,B=N,S=A;return a(),f(m,null,[y(r),y(C,{active:"/posts"}),s("div",z,[t[2]||(t[2]=s("div",{class:"mb-[3rem]"},[s("h2",{class:"text-[#00ff66] text-[14px] mb-[8px]"},"// Архив"),s("h3",{class:"text-[32px] text-[#e0e0e0] font-[600] mb-[16px] font-inter"},"Все публикации"),s("p",{class:"text-[#888888]"},"Статьи о коде, инструментах и технологиях")],-1)),s("div",H,[s("p",{class:g(["py-1.5 px-3 text-[12px] border border-[#1a1a1a] rounded-[4px]",_(o)=="all"?"bg-[#00ff66] text-[#0a0a0a] hover:cursor-pointer":"bg-[#00000000] text-[#888888] text-[12px] hover:cursor-pointer hover:text-[#00ff66] hover:border-[#00ff66] duration-200"]),onClick:t[0]||(t[0]=n=>o.value="all")}," Все ",2),(a(!0),f(m,null,h(_(x),n=>(a(),f("div",{key:n,class:g(["py-1.5 px-3 text-[12px] border border-[#1a1a1a] rounded-[4px]",n==_(o)?"bg-[#00ff66] text-[#0a0a0a] hover:cursor-pointer":"bg-[#00000000] text-[#888888] text-[12px] hover:cursor-pointer hover:text-[#00ff66] hover:border-[#00ff66] duration-200"]),onClick:c=>o.value=n},k(n),11,T))),128))]),s("div",null,[(a(!0),f(m,null,h(_(w),n=>(a(),f("div",{key:n.year},[_(o)=="all"?(a(),f("div",G,[s("p",I,k(n.year),1),t[1]||(t[1]=s("div",{class:"flex-1 h-[2px] bg-[#1a1a1a]"},null,-1))])):q("",!0),(a(!0),f(m,null,h(n.blogs,c=>(a(),K(B,{class:"mb-[15px] mt-[15px]",key:c.id,title:c.title,date:c.date,description:c.description,categories:c.categories,slug:c.slug},null,8,["title","date","description","categories","slug"]))),128))]))),128))])]),y(S)],64)}}};export{X as default};
